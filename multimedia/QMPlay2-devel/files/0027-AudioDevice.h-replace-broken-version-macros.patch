From 0dfc50da60a53b36a6a9f8ab86018c470571def7 Mon Sep 17 00:00:00 2001
From: Sergey Fedorov <barracuda@macos-powerpc.org>
Date: Tue, 15 Apr 2025 21:56:57 +0800
Subject: [PATCH 27/60] AudioDevice.h: replace broken version macros

---
 src/modules/PortAudio/3rdparty/CoreAudio/AudioDevice.h | 9 ++-------
 1 file changed, 2 insertions(+), 7 deletions(-)

diff --git a/src/modules/PortAudio/3rdparty/CoreAudio/AudioDevice.h b/src/modules/PortAudio/3rdparty/CoreAudio/AudioDevice.h
index 8ddf0b10..515006f0 100644
--- a/src/modules/PortAudio/3rdparty/CoreAudio/AudioDevice.h
+++ b/src/modules/PortAudio/3rdparty/CoreAudio/AudioDevice.h
@@ -51,17 +51,12 @@
 
 #include <CoreServices/CoreServices.h>
 #include <CoreAudio/CoreAudio.h>
+#include <AvailabilityMacros.h>
 
 #include <qglobal.h>
 
 #ifndef DEPRECATED_LISTENER_API
-#    if !defined(__MAC_10_11)
-#        define __MAC_10_11 101100
-#    endif
-#    ifndef QT_MACOS_PLATFORM_SDK_EQUAL_OR_ABOVE
-#        define QT_MACOS_PLATFORM_SDK_EQUAL_OR_ABOVE QT_OSX_PLATFORM_SDK_EQUAL_OR_ABOVE
-#    endif
-#    if !QT_MACOS_PLATFORM_SDK_EQUAL_OR_ABOVE(__MAC_10_11)
+#    if MAC_OS_X_VERSION_MIN_REQUIRED < 101100
 #        define DEPRECATED_LISTENER_API
 #        warning "Using the deprecated PropertyListener API; at least it works"
 #    endif
-- 
2.49.0

